generator client {
  provider = "prisma-client"
  output   = "../src/shared/lib/prisma/generated"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String          @id @default(uuid())
  goals         DailyGoal[]
  progress      DailyProgress[]
  workIntervals WorkInterval[]

  @@map("user")
}

model WorkInterval {
  id           String    @id @default(uuid())
  start_time   DateTime  @db.Timestamptz
  end_time     DateTime? @db.Timestamptz
  duration     Int
  state        String    @default("active")
  user_id      String
  user         User      @relation(fields: [user_id], references: [id])

  @@map("work_interval")
}

model DailyGoal {
  id           String   @id @default(uuid())
  date         DateTime @unique @db.Timestamptz
  goal_minutes Int
  user_id      String
  user         User     @relation(fields: [user_id], references: [id])

  @@map("daily_goal")
}

model DailyProgress {
  id            String   @id @default(uuid())
  date          DateTime @unique @db.Timestamptz
  total_minutes Int
  user_id       String
  user          User     @relation(fields: [user_id], references: [id])

  @@map("daily_progress")
}
