generator client {
  provider = "prisma-client"
  output   = "../src/shared/lib/prisma/generated"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String          @id @default(uuid())
  email         String          @unique
  name          String?
  goals         DailyGoal[]
  progress      DailyProgress[]
  workIntervals WorkInterval[]

  @@map("user")
}

model WorkInterval {
  id           String    @id @default(uuid())
  start_time   DateTime
  end_time     DateTime?
  duration     Int
  is_completed Boolean   @default(false)
  user_id      String
  user         User      @relation(fields: [user_id], references: [id])

  @@map("work_interval")
}

model DailyGoal {
  id           String   @id @default(uuid())
  date         DateTime @unique
  goal_minutes Int
  user_id      String
  user         User     @relation(fields: [user_id], references: [id])

  @@map("daily_goal")
}

model DailyProgress {
  id            String   @id @default(uuid())
  date          DateTime @unique
  total_minutes Int
  user_id       String
  user          User     @relation(fields: [user_id], references: [id])

  @@map("daily_progress")
}
